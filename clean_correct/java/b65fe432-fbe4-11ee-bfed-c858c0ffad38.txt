java class Solution { public int[] searchRange(int[] nums, int target) { if (nums.length==0){ return new int[]{-1,-1}; } if (nums.length==1){ return nums[0]==target?new int[]{0,0}:new int[]{-1,-1}; } int left =0; int right=nums.length-1; 数组默认是-1，-1 int[] result = new int[]{-1,-1}; while (left<=right){ int mid = (left+right)/2; if (nums[mid]>target){ right=mid-1; }else if (nums[mid]<target){ left=mid+1; }else { int head=mid; while (head>0 && nums[--head]==nums[mid]); head=(head==0 && nums[head]==target)?-1:head; result[0]=head+1; int tail=mid; while (tail<nums.length-1 && nums[++tail]==nums[mid]); tail=(tail==nums.length-1 && nums[tail]==target)?nums.length:tail; result[1]=tail-1; return result; } } return result; } } 